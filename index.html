# å¹´ä¼šå¤§å±ç­”é¢˜äº’åŠ¨ç³»ç»Ÿ

æˆ‘å°†è®¾è®¡ä¸€ä¸ªé€‚ç”¨äºå¹´ä¼šå¤§å±çš„ç­”é¢˜äº’åŠ¨ç½‘é¡µï¼ŒåŒ…å«å€’è®¡æ—¶ã€å®æ—¶æ’åã€é¢˜ç›®å±•ç¤ºå’Œäº’åŠ¨æ•ˆæœã€‚

## è®¾è®¡æ€è·¯
1. åˆ›å»ºå…¨å±æ˜¾ç¤ºå¸ƒå±€ï¼Œé€‚åˆå¤§å±æŠ•å½±
2. å®ç°ç­”é¢˜å€’è®¡æ—¶å’Œå®æ—¶æ’ååŠŸèƒ½
3. æ·»åŠ é¢˜ç›®å±•ç¤ºå’Œç­”æ¡ˆé€‰é¡¹
4. è®¾è®¡äº’åŠ¨æ•ˆæœå’ŒåŠ¨ç”»
5. æ·»åŠ åå°æ§åˆ¶åŠŸèƒ½

ä¸‹é¢æ˜¯å®Œæ•´çš„å®ç°ä»£ç ï¼š

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹´ä¼šå¤§å±ç­”é¢˜äº’åŠ¨ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0c2461 0%, #1e3799 100%);
            color: white;
            min-height: 100vh;
            overflow: hidden;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            padding: 20px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 3px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 20px;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(90deg, #ff9a00, #ff5e00);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(255, 90, 0, 0.3);
        }
        
        .event-title {
            font-size: 2.8rem;
            text-align: center;
            color: #fff;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
            letter-spacing: 2px;
        }
        
        .timer-section {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .timer {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 15px 40px;
            font-size: 3.5rem;
            font-weight: bold;
            color: #ffdd00;
            text-shadow: 0 0 10px rgba(255, 221, 0, 0.7);
            border: 3px solid #ffdd00;
            box-shadow: 0 0 20px rgba(255, 221, 0, 0.5);
        }
        
        .main-content {
            display: flex;
            flex: 1;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .question-section {
            flex: 3;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .question-number {
            font-size: 1.8rem;
            color: #ffdd00;
        }
        
        .question-type {
            font-size: 1.5rem;
            background: rgba(255, 157, 0, 0.2);
            padding: 8px 20px;
            border-radius: 50px;
        }
        
        .question-text {
            font-size: 2.8rem;
            line-height: 1.4;
            margin-bottom: 40px;
            text-align: center;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .answers-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .answer {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 25px;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            text-align: center;
        }
        
        .answer:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-5px);
        }
        
        .answer.selected {
            background: rgba(255, 221, 0, 0.3);
            border-color: #ffdd00;
            box-shadow: 0 0 20px rgba(255, 221, 0, 0.5);
        }
        
        .answer.correct {
            background: rgba(46, 204, 113, 0.3);
            border-color: #2ecc71;
            box-shadow: 0 0 20px rgba(46, 204, 113, 0.5);
        }
        
        .answer.wrong {
            background: rgba(231, 76, 60, 0.3);
            border-color: #e74c3c;
            box-shadow: 0 0 20px rgba(231, 76, 60, 0.5);
        }
        
        .ranking-section {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }
        
        .ranking-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 25px;
            color: #ffdd00;
            text-shadow: 0 0 10px rgba(255, 221, 0, 0.5);
        }
        
        .ranking-list {
            flex: 1;
            overflow-y: auto;
        }
        
        .ranking-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            transition: all 0.3s;
        }
        
        .ranking-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }
        
        .ranking-item.current-user {
            background: rgba(255, 221, 0, 0.2);
            border: 2px solid #ffdd00;
        }
        
        .rank {
            font-size: 1.8rem;
            font-weight: bold;
            width: 50px;
            text-align: center;
        }
        
        .rank-1 {
            color: gold;
            text-shadow: 0 0 10px gold;
        }
        
        .rank-2 {
            color: silver;
            text-shadow: 0 0 10px silver;
        }
        
        .rank-3 {
            color: #cd7f32;
            text-shadow: 0 0 10px #cd7f32;
        }
        
        .user-info {
            flex: 1;
            font-size: 1.5rem;
        }
        
        .score {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffdd00;
        }
        
        .control-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            margin-top: 10px;
        }
        
        .control-btn {
            background: linear-gradient(90deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }
        
        .control-btn.next {
            background: linear-gradient(90deg, #2ecc71, #27ae60);
        }
        
        .control-btn.next:hover {
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
        }
        
        .control-btn.reset {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }
        
        .control-btn.reset:hover {
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }
        
        .progress-section {
            margin-top: 20px;
            text-align: center;
        }
        
        .progress-text {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #ffdd00;
        }
        
        .progress-bar {
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9a00, #ff5e00);
            width: 0%;
            transition: width 0.5s;
            border-radius: 10px;
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 1s infinite;
        }
        
        @keyframes confetti {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(1000px) rotate(720deg); opacity: 0; }
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffdd00;
            top: -10px;
            opacity: 0;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .question-text {
                font-size: 2.2rem;
            }
            
            .answer {
                font-size: 1.7rem;
                padding: 20px;
            }
        }
        
        @media (max-width: 992px) {
            .main-content {
                flex-direction: column;
            }
            
            .ranking-section {
                max-height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">æ™ºæ…§é—®ç­”</div>
            <div class="event-title">2024å¹´åº¦å…¬å¸ç››å…¸ - çŸ¥è¯†æŒ‘æˆ˜èµ›</div>
            <div class="timer-section">
                <div class="timer" id="timer">30</div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="question-section">
                <div class="question-header">
                    <div class="question-number" id="question-number">ç¬¬ 1 é¢˜</div>
                    <div class="question-type" id="question-type">å•é€‰é¢˜</div>
                </div>
                
                <div class="question-text" id="question-text">
                    å…¬å¸æˆç«‹äºå“ªä¸€å¹´ï¼Ÿ
                </div>
                
                <div class="answers-section" id="answers-section">
                    <div class="answer" data-index="0">A. 2010å¹´</div>
                    <div class="answer" data-index="1">B. 2012å¹´</div>
                    <div class="answer" data-index="2">C. 2015å¹´</div>
                    <div class="answer" data-index="3">D. 2018å¹´</div>
                </div>
            </div>
            
            <div class="ranking-section">
                <div class="ranking-title">å®æ—¶æ’å</div>
                <div class="ranking-list" id="ranking-list">
                    <!-- æ’åå°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
        
        <div class="progress-section">
            <div class="progress-text">ç­”é¢˜è¿›åº¦</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
        
        <div class="control-panel">
            <button class="control-btn reset" id="reset-btn">
                <i class="fas fa-redo"></i> é‡ç½®æ¯”èµ›
            </button>
            
            <div class="question-stats">
                <span id="stats-text">å·²ç­”: 0/10 | æ­£ç¡®ç‡: 0%</span>
            </div>
            
            <button class="control-btn next" id="next-btn">
                <i class="fas fa-forward"></i> ä¸‹ä¸€é¢˜
            </button>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–æ•°æ®
        const questions = [
            {
                question: "å…¬å¸æˆç«‹äºå“ªä¸€å¹´ï¼Ÿ",
                type: "å•é€‰é¢˜",
                answers: ["A. 2010å¹´", "B. 2012å¹´", "C. 2015å¹´", "D. 2018å¹´"],
                correct: 1,
                explanation: "å…¬å¸æˆç«‹äº2012å¹´ï¼Œè‡³ä»Šå·²æœ‰12å¹´å†å²ã€‚"
            },
            {
                question: "å…¬å¸çš„æ ¸å¿ƒä»·å€¼è§‚æ˜¯ä»€ä¹ˆï¼Ÿ",
                type: "å•é€‰é¢˜",
                answers: ["A. åˆ›æ–°ã€è¯šä¿¡ã€åä½œ", "B. å®¢æˆ·ç¬¬ä¸€ã€å›¢é˜Ÿåˆä½œã€æ‹¥æŠ±å˜åŒ–", "C. ä»¥äººä¸ºæœ¬ã€è¿½æ±‚å“è¶Š", "D. ä¸“ä¸šã€ä¸“æ³¨ã€ä¸“å¿ƒ"],
                correct: 0,
                explanation: "å…¬å¸çš„æ ¸å¿ƒä»·å€¼è§‚æ˜¯ï¼šåˆ›æ–°ã€è¯šä¿¡ã€åä½œã€‚"
            },
            {
                question: "ä»¥ä¸‹å“ªä¸ªä¸æ˜¯å…¬å¸çš„äº§å“çº¿ï¼Ÿ",
                type: "å•é€‰é¢˜",
                answers: ["A. æ™ºèƒ½åŠå…¬ç³»ç»Ÿ", "B. ä¼ä¸šäº‘æœåŠ¡", "C. æ™ºèƒ½å®¶å±…è®¾å¤‡", "D. é‡‘èç§‘æŠ€è§£å†³æ–¹æ¡ˆ"],
                correct: 2,
                explanation: "å…¬å¸ç›®å‰ä¸æ¶‰åŠæ™ºèƒ½å®¶å±…è®¾å¤‡é¢†åŸŸã€‚"
            },
            {
                question: "å…¬å¸å»å¹´è·å¾—çš„å¥–é¡¹æ˜¯ï¼Ÿ",
                type: "å¤šé€‰é¢˜",
                answers: ["A. æœ€ä½³é›‡ä¸»å¥–", "B. ç§‘æŠ€åˆ›æ–°å¥–", "C. ç¤¾ä¼šè´£ä»»å¥–", "D. è¡Œä¸šé¢†å†›å¥–"],
                correct: [0, 1, 3],
                explanation: "å…¬å¸å»å¹´è·å¾—äº†æœ€ä½³é›‡ä¸»å¥–ã€ç§‘æŠ€åˆ›æ–°å¥–å’Œè¡Œä¸šé¢†å†›å¥–ã€‚"
            },
            {
                question: "å…¬å¸æ€»éƒ¨ä½äºå“ªä¸ªåŸå¸‚ï¼Ÿ",
                type: "å•é€‰é¢˜",
                answers: ["A. åŒ—äº¬", "B. ä¸Šæµ·", "C. æ·±åœ³", "D. æ­å·"],
                correct: 3,
                explanation: "å…¬å¸æ€»éƒ¨ä½äºæ­å·ã€‚"
            },
            {
                question: "å…¬å¸ç›®å‰æœ‰å¤šå°‘åå‘˜å·¥ï¼Ÿ",
                type: "å•é€‰é¢˜",
                answers: ["A. 500-800äºº", "B. 800-1200äºº", "C. 1200-1500äºº", "D. 1500äººä»¥ä¸Š"],
                correct: 2,
                explanation: "å…¬å¸ç›®å‰æœ‰1200-1500åå‘˜å·¥ã€‚"
            },
            {
                question: "ä»¥ä¸‹å“ªäº›æ˜¯å…¬å¸çš„åˆä½œä¼™ä¼´ï¼Ÿ",
                type: "å¤šé€‰é¢˜",
                answers: ["A. åä¸º", "B. é˜¿é‡Œå·´å·´", "C. è…¾è®¯", "D. å¾®è½¯"],
                correct: [0, 1, 3],
                explanation: "å…¬å¸ä¸åä¸ºã€é˜¿é‡Œå·´å·´å’Œå¾®è½¯æœ‰åˆä½œå…³ç³»ã€‚"
            },
            {
                question: "å…¬å¸çš„å¹´å¢é•¿ç‡å¤§çº¦æ˜¯å¤šå°‘ï¼Ÿ",
                type: "å•é€‰é¢˜",
                answers: ["A. 15%", "B. 25%", "C. 35%", "D. 45%"],
                correct: 2,
                explanation: "å…¬å¸å¹´å¢é•¿ç‡çº¦ä¸º35%ï¼Œå¤„äºè¡Œä¸šé¢†å…ˆæ°´å¹³ã€‚"
            },
            {
                question: "å…¬å¸æœªæ¥ä¸‰å¹´çš„å‘å±•é‡ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ",
                type: "å•é€‰é¢˜",
                answers: ["A. å›½å†…å¸‚åœºæ‰©å¼ ", "B. æµ·å¤–å¸‚åœºæ‹“å±•", "C. æŠ€æœ¯åˆ›æ–°", "D. äº§ä¸šé“¾æ•´åˆ"],
                correct: 1,
                explanation: "å…¬å¸æœªæ¥ä¸‰å¹´å°†é‡ç‚¹æ‹“å±•æµ·å¤–å¸‚åœºã€‚"
            },
            {
                question: "å…¬å¸çš„ä¼ä¸šæ–‡åŒ–å¼ºè°ƒä»€ä¹ˆï¼Ÿ",
                type: "å¤šé€‰é¢˜",
                answers: ["A. æŒç»­å­¦ä¹ ", "B. å¼€æ”¾é€æ˜", "C. ç»“æœå¯¼å‘", "D. å¿«ä¹å·¥ä½œ"],
                correct: [0, 1, 2, 3],
                explanation: "å…¬å¸çš„ä¼ä¸šæ–‡åŒ–å¼ºè°ƒæŒç»­å­¦ä¹ ã€å¼€æ”¾é€æ˜ã€ç»“æœå¯¼å‘å’Œå¿«ä¹å·¥ä½œã€‚"
            }
        ];

        // æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®
        const users = [
            { id: 1, name: "å¼ ä¸‰", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 2, name: "æå››", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 3, name: "ç‹äº”", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 4, name: "èµµå…­", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 5, name: "å­™ä¸ƒ", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 6, name: "å‘¨å…«", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 7, name: "å´ä¹", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 8, name: "éƒ‘å", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 9, name: "é’±åä¸€", score: 0, correct: 0, answered: 0, currentAnswer: null },
            { id: 10, name: "åˆ˜åäºŒ", score: 0, correct: 0, answered: 0, currentAnswer: null }
        ];

        // å…¨å±€å˜é‡
        let currentQuestion = 0;
        let timerValue = 30;
        let timerInterval;
        let isAnswered = false;
        let isMultiChoice = false;

        // DOMå…ƒç´ 
        const timerElement = document.getElementById('timer');
        const questionNumberElement = document.getElementById('question-number');
        const questionTypeElement = document.getElementById('question-type');
        const questionTextElement = document.getElementById('question-text');
        const answersSectionElement = document.getElementById('answers-section');
        const rankingListElement = document.getElementById('ranking-list');
        const progressFillElement = document.getElementById('progress-fill');
        const statsTextElement = document.getElementById('stats-text');
        const resetBtnElement = document.getElementById('reset-btn');
        const nextBtnElement = document.getElementById('next-btn');

        // åˆå§‹åŒ–é¡µé¢
        function initPage() {
            loadQuestion(currentQuestion);
            startTimer();
            updateRanking();
            updateStats();
            
            // æ·»åŠ ç­”é¢˜äº‹ä»¶ç›‘å¬
            const answerElements = document.querySelectorAll('.answer');
            answerElements.forEach(answer => {
                answer.addEventListener('click', () => selectAnswer(answer));
            });
            
            // æ·»åŠ æŒ‰é’®äº‹ä»¶ç›‘å¬
            resetBtnElement.addEventListener('click', resetGame);
            nextBtnElement.addEventListener('click', nextQuestion);
        }

        // åŠ è½½é¢˜ç›®
        function loadQuestion(index) {
            const question = questions[index];
            isAnswered = false;
            
            // æ›´æ–°é¢˜ç›®ä¿¡æ¯
            questionNumberElement.textContent = `ç¬¬ ${index + 1} é¢˜`;
            questionTypeElement.textContent = question.type;
            questionTextElement.textContent = question.question;
            
            // æ£€æŸ¥æ˜¯å¦ä¸ºå¤šé€‰é¢˜
            isMultiChoice = question.type === "å¤šé€‰é¢˜";
            
            // æ¸…ç©ºç­”æ¡ˆåŒºåŸŸ
            answersSectionElement.innerHTML = '';
            
            // æ·»åŠ ç­”æ¡ˆé€‰é¡¹
            question.answers.forEach((answer, i) => {
                const answerElement = document.createElement('div');
                answerElement.className = 'answer';
                answerElement.dataset.index = i;
                answerElement.textContent = answer;
                answerElement.addEventListener('click', () => selectAnswer(answerElement));
                answersSectionElement.appendChild(answerElement);
            });
            
            // æ›´æ–°è¿›åº¦æ¡
            progressFillElement.style.width = `${((index + 1) / questions.length) * 100}%`;
            
            // é‡ç½®å®šæ—¶å™¨
            timerValue = 30;
            timerElement.textContent = timerValue;
            timerElement.classList.remove('pulse');
            
            // å¯ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
            nextBtnElement.disabled = true;
            nextBtnElement.style.opacity = '0.5';
            nextBtnElement.style.cursor = 'not-allowed';
            
            // å¦‚æœæ˜¯å¤šé€‰é¢˜ï¼Œæ›´æ–°UIæç¤º
            if (isMultiChoice) {
                const hint = document.createElement('div');
                hint.style.textAlign = 'center';
                hint.style.marginTop = '10px';
                hint.style.color = '#ffdd00';
                hint.style.fontSize = '1.5rem';
                hint.textContent = 'æç¤ºï¼šå¤šé€‰é¢˜ï¼Œå¯é€‰æ‹©å¤šä¸ªç­”æ¡ˆ';
                answersSectionElement.parentNode.insertBefore(hint, answersSectionElement.nextSibling);
            }
            
            // é‡ç½®æ‰€æœ‰ç”¨æˆ·çš„å½“å‰ç­”æ¡ˆ
            users.forEach(user => user.currentAnswer = null);
        }

        // é€‰æ‹©ç­”æ¡ˆ
        function selectAnswer(answerElement) {
            if (isAnswered) return;
            
            const selectedIndex = parseInt(answerElement.dataset.index);
            
            // å¦‚æœæ˜¯å•é€‰é¢˜
            if (!isMultiChoice) {
                // ç§»é™¤æ‰€æœ‰é€‰é¡¹çš„é€‰æ‹©çŠ¶æ€
                document.querySelectorAll('.answer').forEach(el => {
                    el.classList.remove('selected');
                });
                
                // è®¾ç½®å½“å‰é€‰æ‹©
                answerElement.classList.add('selected');
                
                // æ¨¡æ‹Ÿç”¨æˆ·ç­”é¢˜
                simulateUserAnswers(selectedIndex);
                
                // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
                showCorrectAnswer();
            } else {
                // å¤šé€‰é¢˜ï¼šåˆ‡æ¢é€‰æ‹©çŠ¶æ€
                answerElement.classList.toggle('selected');
                
                // è·å–æ‰€æœ‰å·²é€‰æ‹©çš„é€‰é¡¹
                const selectedIndices = Array.from(document.querySelectorAll('.answer.selected'))
                    .map(el => parseInt(el.dataset.index));
                
                // å¦‚æœè‡³å°‘é€‰æ‹©äº†ä¸€ä¸ªé€‰é¡¹ï¼Œæ¨¡æ‹Ÿç”¨æˆ·ç­”é¢˜
                if (selectedIndices.length > 0) {
                    simulateUserAnswers(selectedIndices);
                }
            }
        }

        // æ¨¡æ‹Ÿç”¨æˆ·ç­”é¢˜
        function simulateUserAnswers(selectedIndex) {
            // éšæœºä¸ºæ¯ä¸ªç”¨æˆ·åˆ†é…ç­”æ¡ˆ
            users.forEach(user => {
                // 80%çš„ç”¨æˆ·ä¼šç­”é¢˜ï¼Œ20%å¯èƒ½ä¸ç­”
                if (Math.random() < 0.8) {
                    if (isMultiChoice) {
                        // å¤šé€‰é¢˜ï¼šéšæœºé€‰æ‹©éƒ¨åˆ†é€‰é¡¹
                        const correctIndices = questions[currentQuestion].correct;
                        const userAnswer = [];
                        
                        // ç”¨æˆ·æœ‰ä¸€å®šæ¦‚ç‡ç­”å¯¹
                        const isCorrect = Math.random() < 0.6;
                        
                        if (isCorrect) {
                            // ç­”å¯¹çš„æƒ…å†µ
                            userAnswer.push(...correctIndices);
                            // å¯èƒ½é¢å¤–é€‰æ‹©ä¸€äº›é”™è¯¯é€‰é¡¹
                            if (Math.random() < 0.3) {
                                const allIndices = Array.from({length: questions[currentQuestion].answers.length}, (_, i) => i);
                                const wrongIndices = allIndices.filter(i => !correctIndices.includes(i));
                                if (wrongIndices.length > 0) {
                                    userAnswer.push(wrongIndices[Math.floor(Math.random() * wrongIndices.length)]);
                                }
                            }
                        } else {
                            // ç­”é”™çš„æƒ…å†µ
                            const allIndices = Array.from({length: questions[currentQuestion].answers.length}, (_, i) => i);
                            const randomCount = Math.min(1 + Math.floor(Math.random() * 3), allIndices.length);
                            
                            // éšæœºé€‰æ‹©é€‰é¡¹
                            for (let i = 0; i < randomCount; i++) {
                                const randomIndex = Math.floor(Math.random() * allIndices.length);
                                userAnswer.push(allIndices[randomIndex]);
                                allIndices.splice(randomIndex, 1);
                            }
                        }
                        
                        user.currentAnswer = [...new Set(userAnswer)]; // å»é‡
                    } else {
                        // å•é€‰é¢˜
                        const correctIndex = questions[currentQuestion].correct;
                        // ç”¨æˆ·æœ‰ä¸€å®šæ¦‚ç‡ç­”å¯¹
                        const isCorrect = Math.random() < 0.7;
                        user.currentAnswer = isCorrect ? correctIndex : 
                            (selectedIndex + 1) % questions[currentQuestion].answers.length;
                    }
                    
                    user.answered++;
                    
                    // æ£€æŸ¥ç­”æ¡ˆæ˜¯å¦æ­£ç¡®
                    const isCorrect = checkAnswer(user.currentAnswer);
                    if (isCorrect) {
                        user.correct++;
                        user.score += 100;
                        // é¢å¤–å¥–åŠ±ï¼šç­”é¢˜é€Ÿåº¦å¿«
                        if (timerValue > 20) user.score += 50;
                        else if (timerValue > 10) user.score += 30;
                    }
                } else {
                    // ç”¨æˆ·æœªç­”é¢˜
                    user.currentAnswer = null;
                }
            });
            
            // æ›´æ–°æ’åå’Œç»Ÿè®¡
            updateRanking();
            updateStats();
            
            // å¦‚æœä¸æ˜¯å¤šé€‰é¢˜ï¼Œè‡ªåŠ¨æ˜¾ç¤ºç­”æ¡ˆ
            if (!isMultiChoice) {
                isAnswered = true;
                nextBtnElement.disabled = false;
                nextBtnElement.style.opacity = '1';
                nextBtnElement.style.cursor = 'pointer';
                clearInterval(timerInterval);
                timerElement.classList.add('pulse');
            }
        }

        // æ£€æŸ¥ç­”æ¡ˆæ˜¯å¦æ­£ç¡®
        function checkAnswer(userAnswer) {
            const correctAnswer = questions[currentQuestion].correct;
            
            if (isMultiChoice) {
                // å¤šé€‰é¢˜ï¼šæ£€æŸ¥æ•°ç»„æ˜¯å¦ç›¸ç­‰
                if (!Array.isArray(userAnswer) || userAnswer.length !== correctAnswer.length) {
                    return false;
                }
                
                const sortedUserAnswer = [...userAnswer].sort((a, b) => a - b);
                const sortedCorrectAnswer = [...correctAnswer].sort((a, b) => a - b);
                
                return JSON.stringify(sortedUserAnswer) === JSON.stringify(sortedCorrectAnswer);
            } else {
                // å•é€‰é¢˜
                return userAnswer === correctAnswer;
            }
        }

        // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
        function showCorrectAnswer() {
            const correctAnswer = questions[currentQuestion].correct;
            const answerElements = document.querySelectorAll('.answer');
            
            if (isMultiChoice) {
                // å¤šé€‰é¢˜ï¼šæ ‡è®°æ‰€æœ‰æ­£ç¡®é€‰é¡¹
                correctAnswer.forEach(index => {
                    answerElements[index].classList.add('correct');
                });
                
                // æ ‡è®°ç”¨æˆ·é€‰æ‹©çš„é”™è¯¯é€‰é¡¹
                answerElements.forEach((el, index) => {
                    if (el.classList.contains('selected') && !correctAnswer.includes(index)) {
                        el.classList.add('wrong');
                    }
                });
            } else {
                // å•é€‰é¢˜ï¼šæ ‡è®°æ­£ç¡®ç­”æ¡ˆ
                answerElements[correctAnswer].classList.add('correct');
                
                // æ ‡è®°é”™è¯¯ç­”æ¡ˆï¼ˆå¦‚æœç”¨æˆ·é€‰é”™äº†ï¼‰
                answerElements.forEach((el, index) => {
                    if (el.classList.contains('selected') && index !== correctAnswer) {
                        el.classList.add('wrong');
                    }
                });
            }
            
            // æ˜¾ç¤ºè§£é‡Šï¼ˆåœ¨çœŸå®åœºæ™¯ä¸­ï¼Œè¿™é‡Œå¯ä»¥æ˜¾ç¤ºé¢˜ç›®è§£é‡Šï¼‰
            const explanation = document.createElement('div');
            explanation.style.marginTop = '30px';
            explanation.style.padding = '20px';
            explanation.style.backgroundColor = 'rgba(0,0,0,0.3)';
            explanation.style.borderRadius = '15px';
            explanation.style.fontSize = '1.8rem';
            explanation.style.color = '#ffdd00';
            explanation.textContent = `æ­£ç¡®ç­”æ¡ˆè§£é‡Š: ${questions[currentQuestion].explanation}`;
            
            // æ’å…¥è§£é‡Š
            const parent = answersSectionElement.parentNode;
            parent.insertBefore(explanation, answersSectionElement.nextSibling);
        }

        // å¼€å§‹å€’è®¡æ—¶
        function startTimer() {
            clearInterval(timerInterval);
            timerValue = 30;
            timerElement.textContent = timerValue;
            
            timerInterval = setInterval(() => {
                timerValue--;
                timerElement.textContent = timerValue;
                
                // æœ€å10ç§’é—ªçƒæ•ˆæœ
                if (timerValue <= 10) {
                    timerElement.classList.add('pulse');
                }
                
                // æ—¶é—´åˆ°
                if (timerValue <= 0) {
                    clearInterval(timerInterval);
                    timeUp();
                }
            }, 1000);
        }

        // æ—¶é—´åˆ°
        function timeUp() {
            if (isAnswered) return;
            
            isAnswered = true;
            
            // ä¸ºæœªç­”é¢˜çš„ç”¨æˆ·è®°å½•
            users.forEach(user => {
                if (user.currentAnswer === null) {
                    user.answered++;
                }
            });
            
            // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
            showCorrectAnswer();
            
            // å¯ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
            nextBtnElement.disabled = false;
            nextBtnElement.style.opacity = '1';
            nextBtnElement.style.cursor = 'pointer';
            
            // æ›´æ–°æ’åå’Œç»Ÿè®¡
            updateRanking();
            updateStats();
        }

        // æ›´æ–°æ’å
        function updateRanking() {
            // æŒ‰åˆ†æ•°æ’åº
            const sortedUsers = [...users].sort((a, b) => b.score - a.score);
            
            // æ¸…ç©ºæ’ååˆ—è¡¨
            rankingListElement.innerHTML = '';
            
            // æ·»åŠ æ’åé¡¹
            sortedUsers.forEach((user, index) => {
                const rankingItem = document.createElement('div');
                rankingItem.className = 'ranking-item';
                
                // å½“å‰ç”¨æˆ·é«˜äº®æ˜¾ç¤ºï¼ˆæ¨¡æ‹Ÿå½“å‰æ´»è·ƒç”¨æˆ·ï¼‰
                if (user.id === 1) {
                    rankingItem.classList.add('current-user');
                }
                
                // æ’å
                const rankElement = document.createElement('div');
                rankElement.className = `rank rank-${index + 1}`;
                rankElement.textContent = index + 1;
                
                // ç”¨æˆ·ä¿¡æ¯
                const userInfoElement = document.createElement('div');
                userInfoElement.className = 'user-info';
                userInfoElement.textContent = user.name;
                
                // åˆ†æ•°
                const scoreElement = document.createElement('div');
                scoreElement.className = 'score';
                scoreElement.textContent = user.score;
                
                // ç»„è£…
                rankingItem.appendChild(rankElement);
                rankingItem.appendChild(userInfoElement);
                rankingItem.appendChild(scoreElement);
                
                rankingListElement.appendChild(rankingItem);
            });
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            const totalQuestions = questions.length;
            const answeredQuestions = currentQuestion + 1;
            
            // è®¡ç®—å¹³å‡æ­£ç¡®ç‡
            const totalCorrect = users.reduce((sum, user) => sum + user.correct, 0);
            const totalAnswered = users.reduce((sum, user) => sum + user.answered, 0);
            const accuracy = totalAnswered > 0 ? Math.round((totalCorrect / totalAnswered) * 100) : 0;
            
            statsTextElement.textContent = `å·²ç­”: ${answeredQuestions}/${totalQuestions} | å¹³å‡æ­£ç¡®ç‡: ${accuracy}%`;
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            // åˆ›å»ºå½©è‰²çº¸å±‘æ•ˆæœ
            createConfetti();
            
            // åˆ‡æ¢åˆ°ä¸‹ä¸€é¢˜
            currentQuestion++;
            
            if (currentQuestion >= questions.length) {
                // æ‰€æœ‰é¢˜ç›®å·²å›ç­”å®Œæ¯•
                endGame();
                return;
            }
            
            // åŠ è½½ä¸‹ä¸€é¢˜
            loadQuestion(currentQuestion);
            
            // é‡å¯å®šæ—¶å™¨
            startTimer();
            
            // ç¦ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
            nextBtnElement.disabled = true;
            nextBtnElement.style.opacity = '0.5';
            nextBtnElement.style.cursor = 'not-allowed';
        }

        // ç»“æŸæ¸¸æˆ
        function endGame() {
            // æ˜¾ç¤ºæœ€ç»ˆç»“æœ
            questionNumberElement.textContent = "ç­”é¢˜ç»“æŸ";
            questionTypeElement.textContent = "æœ€ç»ˆç»“æœ";
            questionTextElement.textContent = "æ­å–œæ‰€æœ‰å‚èµ›è€…å®ŒæˆæŒ‘æˆ˜ï¼";
            
            // æ¸…ç©ºç­”æ¡ˆåŒºåŸŸ
            answersSectionElement.innerHTML = '';
            
            // æ˜¾ç¤ºæœ€ç»ˆæ’åå‰ä¸‰
            const sortedUsers = [...users].sort((a, b) => b.score - a.score);
            const topThree = sortedUsers.slice(0, 3);
            
            const winnerAnnouncement = document.createElement('div');
            winnerAnnouncement.style.textAlign = 'center';
            winnerAnnouncement.style.fontSize = '2.5rem';
            winnerAnnouncement.style.marginTop = '50px';
            winnerAnnouncement.style.color = '#ffdd00';
            
            let winnerText = "<div style='margin-bottom:30px;'>ğŸ† å† å†›: " + topThree[0].name + " (" + topThree[0].score + "åˆ†)</div>";
            winnerText += "<div style='margin-bottom:30px;'>ğŸ¥ˆ äºšå†›: " + topThree[1].name + " (" + topThree[1].score + "åˆ†)</div>";
            winnerText += "<div>ğŸ¥‰ å­£å†›: " + topThree[2].name + " (" + topThree[2].score + "åˆ†)</div>";
            
            winnerAnnouncement.innerHTML = winnerText;
            
            answersSectionElement.appendChild(winnerAnnouncement);
            
            // åœæ­¢è®¡æ—¶å™¨
            clearInterval(timerInterval);
            timerElement.textContent = "å®Œæˆ";
            
            // ç¦ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
            nextBtnElement.disabled = true;
            nextBtnElement.style.opacity = '0.5';
            nextBtnElement.style.cursor = 'not-allowed';
            
            // åˆ›å»ºå¤§é‡å½©è‰²çº¸å±‘
            for (let i = 0; i < 100; i++) {
                setTimeout(() => createConfetti(), i * 50);
            }
        }

        // é‡ç½®æ¸¸æˆ
        function resetGame() {
            if (confirm("ç¡®å®šè¦é‡ç½®æ¯”èµ›å—ï¼Ÿæ‰€æœ‰æ•°æ®å°†è¢«æ¸…ç©ºã€‚")) {
                // é‡ç½®å˜é‡
                currentQuestion = 0;
                timerValue = 30;
                isAnswered = false;
                
                // é‡ç½®ç”¨æˆ·æ•°æ®
                users.forEach(user => {
                    user.score = 0;
                    user.correct = 0;
                    user.answered = 0;
                    user.currentAnswer = null;
                });
                
                // é‡æ–°åŠ è½½ç¬¬ä¸€é¢˜
                loadQuestion(0);
                
                // é‡å¯å®šæ—¶å™¨
                startTimer();
                
                // æ›´æ–°æ’åå’Œç»Ÿè®¡
                updateRanking();
                updateStats();
            }
        }

        // åˆ›å»ºå½©è‰²çº¸å±‘æ•ˆæœ
        function createConfetti() {
            const colors = ['#ffdd00', '#ff5e00', '#3498db', '#2ecc71', '#9b59b6', '#e74c3c'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = Math.random() * 10 + 5 + 'px';
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                
                document.body.appendChild(confetti);
                
                // åŠ¨ç”»
                const animation = confetti.animate([
                    { transform: `translateY(-100px) rotate(0deg)`, opacity: 1 },
                    { transform: `translateY(${window.innerHeight + 100}px) rotate(${Math.random() * 720}deg)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 2000,
                    easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                });
                
                // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                animation.onfinish = () => confetti.remove();
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body
